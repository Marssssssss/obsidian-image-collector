# obsidian-image-manager
a plugin to make obsidian image management more efficient.
# 目标
实现一个扩展 obsidian 原生图片功能的附加功能插件。关键在于好用。
# 怎么样算好用？
一个好用的图片管理无非要解决日常使用痛点。  
痛点包含：  
1. 移动文件的时候，无法将文件中对图片引用的相对路径进行更新；  
2. 删除文件的时候，图片仍然存在；  
3. 没有相对目录结构的图片存储功能（比如原本的笔记目录为 /xxx/b/note.txt，图片不支持存在类似的 /image/b/note.png 之类的功能）；  
4. 图片文件单独存储，而不能随着文件直接走，比如将文件拷到 u 盘或者传输到别的地方还要带着图片一起走；  
5. 几种存储方式之间的转换，比如内部编码方式转相对存储方式，相对单目录存储方式转相对多级目录映射存储方式；  
6. 在使用插件之前就已经乱了的情况下，没法使用插件的正常功能。

解决这些痛点就能够搞定一个图片管理插件了。

# 实现功能
- 图片存储方式转换（5）：
  - 目录形式的图片转换第一步都是先收集到指定目录，然后再组织成各个形式；
  - 编码形式的图片转换，如果转编码直接转，如果从编码到文件也是先到指定目录再组织；
- （子）图片收集：扫描所有笔记，将所有图片聚合到某个目录下，同时修改文件中对图片的引用路径；
- （子）相对目录存储功能（3）；
- （子）图片以编码形式写入文件（4）；  
<br>
- 图片按名收集：扫描所有笔记，将所有图片聚合到某个目录下，同时修改文件中对图片的引用路径，区别在于这个收集仅按名字搜索（忽略路径，只搜索名字），如果出现重名则该图片不处理并提醒（6）；  
<br>
- 移动文件时附带移动图片或者更新引用（1）  
- 删除文件时附带删除图片（2）  

# 附加功能
- 图片一键转换，将所有图片引用格式一键转换为相对引用 or 绝对引用；  
- 如果图片以编码形式放在文件中，允许浏览文件时只浏览到编码的上面（也就是自动隐藏图片编码的部分，这种情况下编码基本都聚合在文件末尾）；  
- url 图片存到本地；  
 
